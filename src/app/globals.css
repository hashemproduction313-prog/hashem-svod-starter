/* ================================
   RESET / BASE
================================ */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; }

:root{
  /* Palette */
  --bg: #0b0b0c;
  --panel: #121214;
  --line: #1f1f22;
  --text: #ffffff;
  --muted: #cfcfcf;
  --gold: #d4af37;
  --gold-strong: #b8962e;

  /* Ombres */
  --shadow-1: 0 6px 18px rgba(0,0,0,.30);
  --shadow-2: 0 20px 50px rgba(0,0,0,.45);
}

body{
  font-family: var(--font-inter, system-ui, Arial, sans-serif);
  background: var(--bg) url('/stars.png') repeat;
  color: var(--text);
  line-height: 1.6;
}

/* Liens */
a{ color: inherit; text-decoration: none; font-weight: 500; }
a:hover{ color: var(--gold); text-decoration: underline; }

/* Container générique */
.container{ max-width: 1200px; margin: 0 auto; padding: 1rem; }

/* ================================
   SKIP LINK (accessibilité)
================================ */
.skip-link{
  position: absolute; top: -40px; left: 0;
  background: #000; color:#fff; padding: 8px 16px;
  z-index: 1000; transition: top .3s;
}
.skip-link:focus{ top: 10px; }

/* ================================
   NAVBAR
================================ */
.navbar{
  position: sticky; top: 0; z-index: 999;
  display:flex; align-items:center; justify-content:space-between;
  padding: .75rem 1.5rem;
  background: rgba(0,0,0,.85);
  border-bottom: 1px solid var(--line);
  backdrop-filter: blur(6px);
}
html.scrolled .navbar{ box-shadow: 0 6px 22px rgba(0,0,0,.45); }

.nav-left{ display:flex; align-items:center; gap: 2rem; }
.nav-main{ display:flex; align-items:center; gap: 1.5rem; }
.nav-main a{ font-size: 1rem; font-weight: 700; }

/* Recherche */
.nav-search{ flex:1; display:flex; justify-content:center; }
.search-input{
  width: clamp(280px, 40vw, 680px);
  padding: .65rem 1rem;
  border-radius: 10px;
  border: 1px solid #333;
  background: #161616;
  color:#fff;
}
.search-input:focus{ outline: 2px solid var(--gold); border-color: var(--gold); }

/* Liens à droite */
.nav-right{ display:flex; align-items:center; gap:1.5rem; font-weight:700; }

/* ================================
   HERO
================================ */
.hero-modern{
  position: relative;
  height: 56vh; min-height: 420px;
  max-width: 1200px; margin: 22px auto 28px;
  border-radius: 18px; overflow: hidden;
  border: 1px solid var(--line);
  box-shadow: var(--shadow-2);
  background: url('/hero.jpg') center/cover no-repeat;
}
.hero-overlay{ position:absolute; inset:0; background: linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.78) 70%); }
.hero-content{ position:absolute; left:6%; bottom:10%; max-width:640px; }
.hero-content h1{
  color:var(--gold); font-weight:900;
  font-size:clamp(28px,4vw,44px);
  margin:0 0 10px; text-shadow:0 2px 16px rgba(0,0,0,.6);
}
.hero-content p{ color:var(--muted); line-height:1.55; margin:0 0 14px; }

/* Boutons */
.btn-primary{
  display:inline-block; background:var(--gold); color:#111;
  font-weight:800; padding:10px 16px; border-radius:10px; text-decoration:none;
  border: 1px solid rgba(0,0,0,.3);
}
.btn-primary:hover{ background: var(--gold-strong); color:#111; text-decoration:none; }
.btn-ghost-secondary{
  display:inline-block; padding:8px 12px; border-radius:10px;
  background: rgba(255,255,255,.06); border: 1px solid var(--line); color:#fff;
}
.btn-ghost-secondary:hover{ border-color:#2b2b2f; text-decoration:none; }

/* ================================
   SECTIONS / TITRES
================================ */
.row{ padding: 24px 0; max-width: 1200px; margin: 0 auto; }
.row h2{ color: var(--gold); font-size: 22px; margin: 0 0 14px 10px; }

/* ================================
   GRILLE DE POSTERS
================================ */
.grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 18px;
  align-items: start;
}
@media (max-width: 1100px){ .grid{ grid-template-columns: repeat(3, minmax(160px,1fr)); } }
@media (max-width: 640px){ .grid{ grid-template-columns: repeat(2, minmax(150px,1fr)); } }

/* Cards */
.card-modern{
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 12px;
  overflow: hidden;
  text-align: center;
  display: flex;
  flex-direction: column;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.card-modern:hover{ transform: translateY(-3px); border-color:#2b2b2f; box-shadow: 0 14px 36px rgba(0,0,0,.45); }
.card-modern img{
  width:100%;
  aspect-ratio: 16 / 9;
  object-fit: cover;
  display:block;
  border-bottom: 1px solid var(--line);
}
.card-modern h3{
  padding: 10px;
  font-size:.95rem;
  color:#fff;
  font-weight: 700;
}
.card-link{ display:block; text-decoration:none; color:inherit; }

/* Effets premium optionnels */
.card-modern:hover {
  transform: translateY(-3px) scale(1.02);
  box-shadow:
    0 14px 36px rgba(0,0,0,.45),
    0 0 0 1px rgba(212,175,55,.25),
    0 8px 24px rgba(212,175,55,.15);
}

/* ================================
   BREADCRUMB
================================ */
.breadcrumb{ margin: 6px 0 8px; }
.back-link{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border-radius:10px;
  background: rgba(255,255,255,.06); border:1px solid var(--line);
}
.back-link:hover{ text-decoration:none; border-color:#2b2b2f; }
.back-link .icon{ opacity:.9; font-weight:700; }

/* ================================
   LECTEUR VIDÉO
================================ */
.player-wrap{
  border: 1px solid var(--line);
  border-radius: 14px;
  overflow: hidden;
  box-shadow: var(--shadow-1);
  background: #000;
}
.mt{ margin-top: 16px; }

/* ================================
   FOOTER
================================ */
.footer{
  background:#000;
  padding: 24px 0;
  border-top: 1px solid var(--line);
  margin-top: 40px;
}
.footer-inner{
  display:flex; justify-content:space-between; align-items:center; gap:1rem;
  flex-wrap:wrap;
}
.footer-nav{ display:flex; gap:1.2rem; }
.footer-nav a{ font-weight:600; }

/* ================================
   TYPO
================================ */
h1,h2,h3{ font-weight: 800; line-height:1.25; }
p{ margin-bottom: 1rem; }

/* ================================
   Mise en page fiche Titre
================================ */
.title-hero {
  display: grid;
  grid-template-columns: 540px 1fr;
  gap: 28px;
  align-items: center;
  margin: 18px 0 8px;
}
.title-hero__poster img {
  width: 100%;
  height: auto;
  border-radius: 18px;
  border: 1px solid var(--line);
  box-shadow: 0 30px 60px rgba(0,0,0,.45);
}
.title-hero__title {
  font-size: clamp(26px, 3.6vw, 40px);
  margin: 0 0 6px;
  color: #fff;
}
.title-hero__desc {
  color: var(--muted);
  margin: 0 0 14px;
  max-width: 60ch;
}
@media (max-width: 1000px) {
  .title-hero { grid-template-columns: 1fr; }
}

/* ================================
   ABONNEMENT / Subscribe
================================ */
.auth-hero {
  max-width: 980px;
  margin: 42px auto 24px;
  padding: 28px;
  border-radius: 16px;
  background: rgba(0,0,0,.55);
  border: 1px solid var(--line);
  box-shadow: 0 20px 50px rgba(0,0,0,.35);
}
.auth-title { font-size: clamp(24px, 4.2vw, 48px); font-weight: 900; line-height: 1.1; margin-bottom: 12px; }
.auth-sub   { color: var(--muted); font-size: 1.05rem; }

.form-inline { display: flex; gap: 12px; margin-top: 18px; }
.input-lg {
  flex: 1; padding: 14px 16px; border-radius: 10px;
  border: 1px solid var(--line); background: #0f0f12; color: var(--text);
  font-size: 1rem; outline: none;
}
.input-lg:focus { border-color: var(--gold); }

.btn-cta {
  display: inline-flex; align-items:center; justify-content:center;
  padding: 12px 18px; border-radius: 12px; font-weight: 800;
  background: var(--gold); color: #111; text-decoration:none;
  border: none; cursor: pointer;
  transition: transform .12s ease, box-shadow .2s ease, background .2s ease;
}
.btn-cta:hover { background: var(--gold-strong); transform: translateY(-1px); }
.btn-cta:active { transform: translateY(0); }

.btn-ghost {
  display: inline-flex; align-items:center; justify-content:center;
  padding: 12px 18px; border-radius: 12px; font-weight: 700;
  border: 1px solid var(--line); color: var(--text); text-decoration: none;
  background: transparent;
}
.btn-ghost:hover { border-color: var(--gold); color: var(--gold); }

.notice { margin-top: 14px; color: var(--muted); font-size: .95rem; }

/* Plans */
.section-title { color: var(--gold); font-size: clamp(18px, 2.5vw, 24px); margin: 28px 0 14px; }
.plan-grid { display: grid; grid-template-columns: repeat(3, minmax(220px, 1fr)); gap: 18px; margin-top: 10px; }
@media (max-width: 900px){ .plan-grid{ grid-template-columns: 1fr; } }
.plan-card {
  border: 1px solid var(--line); border-radius: 14px;
  background: linear-gradient(180deg, #131316, #0f0f12);
  padding: 18px; box-shadow: 0 10px 30px rgba(0,0,0,.3);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.plan-card:hover { transform: translateY(-3px); border-color: #2b2b2f; box-shadow: 0 18px 44px rgba(0,0,0,.45); }
.plan-head { display:flex; align-items:center; justify-content:space-between; margin-bottom: 8px; }
.plan-name { font-weight: 800; }
.badge { font-size:.8rem; color:#111; background: var(--gold); border-radius: 999px; padding: 2px 10px; font-weight: 800; }
.plan-price { font-size:1.2rem; color:var(--muted); margin-bottom:10px; }
.plan-feats { color: var(--muted); font-size:.95rem; line-height:1.5; }
.plan-feats li { margin: 6px 0; }

/* Paiement */
.pay-list { display: grid; gap: 12px; max-width: 720px; margin: 16px auto 0; }
.pay-item {
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 16px; border-radius: 12px;
  border: 1px solid var(--line);
  background: #0f0f12;
  transition: border-color .18s ease, transform .08s ease;
}
.pay-item:hover { border-color: var(--gold); transform: translateY(-1px); }
.pay-left { display:flex; align-items:center; gap: 12px; }
.pay-title { font-weight: 800; }
.pay-sub { color: var(--muted); font-size: .95rem; }

.sr-only {
  position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}

/* ================================
   LISTE D'ÉPISODES — style Netflix
================================ */
.episode-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.episode-row {
  display: flex;
  gap: 16px;
  padding: 12px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.06);
  text-decoration: none;
  color: inherit;
  transition: transform 0.15s ease, background 0.15s ease, border 0.15s ease;
}
.episode-row:hover {
  transform: translateY(-2px);
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.12);
}

.episode-row .thumb {
  position: relative;
  flex: 0 0 320px;
  aspect-ratio: 16 / 9;
  border-radius: 10px;
  overflow: hidden;
  background: #111;
}
.episode-row .info {
  display: flex;
  flex: 1 1 auto;
  flex-direction: column;
  justify-content: center;
  min-width: 0;
}
.episode-row .title {
  margin: 0 0 6px 0;
  font-size: 18px;
  font-weight: 700;
  line-height: 1.3;
}
.episode-row .synopsis {
  margin: 0;
  opacity: 0.92;
  line-height: 1.5;
  font-size: 15px;
}

/* Responsive */
@media (max-width: 780px) {
  .episode-row { flex-direction: column; }
  .episode-row .thumb { flex-basis: auto; width: 100%; }
}

/* ================================
   Voir plus / Voir moins (CSS pur)
   — Version GLOBALE
================================ */
.synopsis-wrap {
  position: relative;
  padding-right: 90px; /* espace pour le bouton à droite */
}
.synopsis-wrap .synopsis.preview {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.synopsis-wrap .synopsis.full { display: none; }

.synopsis-wrap[open] .synopsis.preview { display: none; }
.synopsis-wrap[open] .synopsis.full    { display: block; }

.synopsis-wrap summary {
  list-style: none;
  cursor: pointer;
  position: absolute;
  right: 0;
  top: 0;
  padding: 4px 10px;
  border-radius: 8px;
  border: 1px solid var(--line, #1f1f22);
  background: rgba(255,255,255,.06);
}
.synopsis-wrap summary::-webkit-details-marker { display: none; }
.synopsis-wrap summary::after {
  content: "Voir plus";
  font-weight: 800;
  color: var(--gold, #d4af37);
}
.synopsis-wrap[open] summary::after { content: "Voir moins"; }

@media (max-width: 780px) {
  .synopsis-wrap { padding-right: 0; }
  .synopsis-wrap summary { position: static; margin-top: 6px; }
}

/* Titre page lecture (watch) */
.watch-title {
  font-size: clamp(20px, 3.2vw, 34px);
  font-weight: 900;
  margin: 8px 0 14px;
}
/* ---- Titre cliquable sans look "lien jaune" ---- */
.episode-row .info .title a {
  color: inherit;
  text-decoration: none;
}
.episode-row .info .title a:hover {
  color: var(--gold);
  text-decoration: underline;
}

/* ---- Résumé : 2 lignes par défaut ---- */
.episode-row.hover-full .info .synopsis {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;   /* 2 lignes */
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ---- Au survol de la ligne : tout le texte ---- */
.episode-row.hover-full:hover .info .synopsis {
  display: block;
  -webkit-line-clamp: unset !important; /* bat les anciennes règles */
  white-space: normal;
  max-height: none;
  overflow: visible;
}
/* ===== Badges unifiés ===== */
.badge {
  position: absolute;
  top: 10px;
  left: 10px;
  z-index: 2;

  display: inline-flex;
  align-items: center;
  gap: 6px;

  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 800;
  letter-spacing: .2px;
  line-height: 1;
  user-select: none;

  /* Effet verre discret */
  backdrop-filter: blur(4px);
}

/* Premium = plein doré */
.badge--premium {
  color: #111;
  background: linear-gradient(135deg, #d4af37, #f7e27c);
  box-shadow:
    0 8px 18px rgba(212,175,55,.25),
    0 0 0 1px rgba(212,175,55,.2) inset;
}

/* Gratuit = ghost doré (contour, très discret) */
.badge--free {
  color: #f2e6a8; /* doré clair */
  background: rgba(212,175,55,.10);
  border: 1px solid rgba(212,175,55,.45);
  box-shadow:
    0 6px 16px rgba(0,0,0,.20),
    0 0 0 1px rgba(212,175,55,.12) inset;
}

/* Petit micro-état au survol */
.badge--free:hover,
.badge--premium:hover {
  transform: translateY(-1px);
  filter: brightness(1.04);
}

/* Icône optionnelle devant le texte (pas obligatoire) */
.badge--premium::before {
  content: "🔒";
  font-size: 12px;
}
.badge--free::before {
  content: "★";
  font-size: 12px;
  opacity: .9;
}

/* Si l’image a des coins arrondis, évite que le badge “colle” au bord */
.card-modern,
.card {
  position: relative; /* s’assurer que le badge se positionne bien */
}
/* Badges (doré) */
.badge {
  position: absolute;
  top: 8px;
  left: 8px;
  padding: 4px 8px;
  font-size: 12px;
  font-weight: 800;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,.35);
}

/* Premium : plein dégradé doré */
.badge--premium {
  background: linear-gradient(135deg, #d4af37, #f7e27c);
  color: #111;
}

/* Gratuit : doré très discret (transparent + liseré) */
.badge--free {
  background: rgba(212,175,55,.10);
  color: #f7e27c;
  border: 1px solid rgba(212,175,55,.35);
}
